<!-- Navigation bar -->
<app-navbar></app-navbar>

<!-- Page container -->
<div class="page-wrapper">
    <!-- Sidebar navigation -->
    <aside class="sidebar-nav position-fixed top-0 start-0 h-100 bg-white border-end shadow-sm d-none d-lg-block"
        style="width: 280px; padding-top: 56px; z-index: 1029;">
        <div class="h-100">
            <app-sidebar></app-sidebar>
        </div>
    </aside>

    <!-- Mobile Sidebar -->
    <div class="offcanvas offcanvas-start" tabindex="-1" id="adminSidebar" style="width: 280px;">
        <div class="h-100">
            <app-sidebar></app-sidebar>
        </div>
    </div>

    <!-- Page content -->
    <main class="content-wrapper">
        <div class="scrollable-content">
            <div class="container-fluid p-4">
                <router-outlet></router-outlet>
            </div>
        </div>
    </main>
</div>

<!-- Back to top button -->
<div class="floating-buttons position-fixed bottom-0 end-0 z-sticky me-3 me-xl-4 pb-4">
    <a class="btn-scroll-top btn btn-sm btn-primary border-0 rounded-pill shadow animate-slide-end" href="#top">
        <i class="fi-arrow-up"></i>
    </a>
</div>

<style>
    /* Reset body overflow */
    body {
        margin: 0;
        padding: 0;
    }

    /* Page wrapper styles */
    .page-wrapper {
        min-height: 100vh;
        padding-top: 56px;
        display: flex;
        position: relative;
    }

    /* Content wrapper styles */
    .content-wrapper {
        flex: 1;
        position: relative;
        height: calc(100vh - 56px);
    }

    /* Scrollable content area */
    .scrollable-content {
        height: 100%;
        overflow-y: auto;
        -webkit-overflow-scrolling: touch;
    }

    /* Responsive layout */
    @media (min-width: 992px) {
        .content-wrapper {
            margin-left: 280px;
        }
    }

    /* Sidebar overlay */
    .sidebar-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
        z-index: 1028;
        display: none;
    }

    .sidebar-overlay.show {
        display: block;
    }

    /* Mobile optimizations */
    @media (max-width: 991.98px) {
        .content-wrapper {
            margin-left: 0;
        }
    }

    /* Scrollbar customization */
    .scrollable-content::-webkit-scrollbar {
        width: 8px;
    }

    .scrollable-content::-webkit-scrollbar-track {
        background: #f1f1f1;
    }

    .scrollable-content::-webkit-scrollbar-thumb {
        background: #888;
        border-radius: 4px;
    }

    .scrollable-content::-webkit-scrollbar-thumb:hover {
        background: #555;
    }

    /* Fix for modals */
    .modal-backdrop {
        z-index: 1040;
    }
    
    .modal {
        z-index: 1045;
    }

    /* Ensure modals are visible above all content */
    .modal-dialog {
        margin: 1.75rem auto;
    }
</style>