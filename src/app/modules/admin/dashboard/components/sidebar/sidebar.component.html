<!-- Sidebar content -->
<div class="d-flex flex-column h-100">
    <!-- Header -->
    <div class="sidebar-header p-3 border-bottom bg-light">
        <div class="d-flex align-items-center">
            <div class="flex-shrink-0">
                <div class="avatar-wrapper rounded-circle overflow-hidden shadow-sm" style="width: 48px; height: 48px;">
                    <img alt="Avatar" src="assets/img/account/avatar.jpg" class="w-100 h-100 object-fit-cover" />
                </div>
            </div>
            <div class="flex-grow-1 ms-3">
                <h6 class="mb-1 text-dark">Admin ImmoAuto</h6>
                <p class="fs-sm mb-0 text-muted">admin&#64;immoauto.com</p>
            </div>
            <button aria-label="Close" class="btn-close d-lg-none" data-bs-dismiss="offcanvas" type="button"></button>
        </div>
    </div>

    <!-- Search -->
    <div class="p-3 border-bottom">
        <div class="position-relative">
            <i class="fi-search position-absolute top-50 start-0 translate-middle-y ms-3 text-muted"></i>
            <input class="form-control form-control-sm ps-5 border" type="search" placeholder="Rechercher..." />
        </div>
    </div>

    <!-- Navigation avec scroll -->
    <div class="sidebar-body flex-grow-1 custom-scrollbar">
        <div class="list-group list-group-flush">
            <!-- Menu Principal -->
            <a routerLink="/dashboard" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}"
                class="list-group-item list-group-item-action d-flex align-items-center">
                <i class="fi-gift fs-base opacity-75 me-2"></i>
                <span>Tableau de bord</span>
            </a>

            <!-- Mes annonces et favoris -->
            <div class="px-3 mt-4">
                <small class="text-uppercase fw-bold text-primary">Mon compte</small>
            </div>

            <a routerLink="/dashboard/my-listings" 
               routerLinkActive="active"
               class="list-group-item list-group-item-action d-flex align-items-center">
                <i class="fi-list fs-base opacity-75 me-2"></i>
                <span>Mes annonces</span>
            </a>

            <a routerLink="/dashboard/favorites" 
               routerLinkActive="active"
               class="list-group-item list-group-item-action d-flex align-items-center">
                <i class="fi-heart fs-base opacity-75 me-2"></i>
                <span>Mes favoris</span>
            </a>

            <!-- Immobilier -->
            <div class="px-3 mt-4">
                <small class="text-uppercase fw-bold text-primary">Immobilier</small>
            </div>
            
            <!-- Maisons -->
            <a class="list-group-item list-group-item-action d-flex align-items-center justify-content-between" 
               data-bs-toggle="collapse" 
               href="#housesMenu">
                <div class="d-flex align-items-center">
                    <i class="fi-home fs-base opacity-75 me-2"></i>
                    <span>Maisons</span>
                </div>
                <i class="fi-chevron-down fs-xs"></i>
            </a>
            <div id="housesMenu" class="collapse show">
                <div class="list-group list-group-flush ps-4">
                    <a routerLink="/dashboard/houses" 
                       routerLinkActive="active" 
                       [routerLinkActiveOptions]="{exact: true}"
                       class="list-group-item list-group-item-action">
                        Liste des maisons
                    </a>
                    <a routerLink="/dashboard/houses/new" 
                       routerLinkActive="active"
                       class="list-group-item list-group-item-action">
                        Ajouter une maison
                    </a>
                    <a routerLink="/dashboard/houses/bookings" 
                       routerLinkActive="active"
                       class="list-group-item list-group-item-action">
                        Réservations
                    </a>
                </div>
            </div>

            <!-- Terrains -->
            <a class="list-group-item list-group-item-action d-flex align-items-center justify-content-between" 
               data-bs-toggle="collapse" 
               href="#landsMenu">
                <div class="d-flex align-items-center">
                    <i class="fi-map fs-base opacity-75 me-2"></i>
                    <span>Terrains</span>
                </div>
                <i class="fi-chevron-down fs-xs"></i>
            </a>
            <div id="landsMenu" class="collapse">
                <div class="list-group list-group-flush ps-4">
                    <a routerLink="/dashboard/lands" 
                       routerLinkActive="active" 
                       [routerLinkActiveOptions]="{exact: true}"
                       class="list-group-item list-group-item-action">
                        Liste des terrains
                    </a>
                    <a routerLink="/dashboard/lands/new" 
                       routerLinkActive="active"
                       class="list-group-item list-group-item-action">
                        Ajouter un terrain
                    </a>
                    <a routerLink="/dashboard/lands/bookings" 
                       routerLinkActive="active"
                       class="list-group-item list-group-item-action">
                        Réservations
                    </a>
                </div>
            </div>

            <!-- Automobile -->
            <div class="px-3 mt-4">
                <small class="text-uppercase fw-bold text-primary">Automobile</small>
            </div>
            
            <a class="list-group-item list-group-item-action d-flex align-items-center justify-content-between" 
               data-bs-toggle="collapse" 
               href="#carsMenu">
                <div class="d-flex align-items-center">
                    <i class="fi-car fs-base opacity-75 me-2"></i>
                    <span>Véhicules</span>
                </div>
                <i class="fi-chevron-down fs-xs"></i>
            </a>
            <div id="carsMenu" class="collapse">
                <div class="list-group list-group-flush ps-4">
                    <a routerLink="/dashboard/cars" 
                       routerLinkActive="active" 
                       [routerLinkActiveOptions]="{exact: true}"
                       class="list-group-item list-group-item-action">
                        Liste des véhicules
                    </a>
                    <a routerLink="/dashboard/cars/new" 
                       routerLinkActive="active"
                       class="list-group-item list-group-item-action">
                        Ajouter un véhicule
                    </a>
                    <a routerLink="/dashboard/cars/bookings" 
                       routerLinkActive="active"
                       class="list-group-item list-group-item-action">
                        Réservations
                    </a>
                </div>
            </div>

            <!-- Administration -->
            <div class="px-3 mt-4">
                <small class="text-uppercase fw-bold text-primary">Administration</small>
            </div>
            
            <a routerLink="/dashboard/users" 
               routerLinkActive="active"
               class="list-group-item list-group-item-action d-flex align-items-center">
                <i class="fi-user fs-base opacity-75 me-2"></i>
                <span>Utilisateurs</span>
            </a>
            <a routerLink="/dashboard/settings" 
               routerLinkActive="active"
               class="list-group-item list-group-item-action d-flex align-items-center">
                <i class="fi-settings fs-base opacity-75 me-2"></i>
                <span>Paramètres</span>
            </a>
            <a routerLink="/dashboard/reports" 
               routerLinkActive="active"
               class="list-group-item list-group-item-action d-flex align-items-center">
                <i class="fi-file fs-base opacity-75 me-2"></i>
                <span>Rapports</span>
            </a>
        </div>
    </div>
</div>

<style>
/* Custom scrollbar styles */
.custom-scrollbar {
    overflow-y: auto;
    scrollbar-width: thin;
    scrollbar-color: rgba(0, 0, 0, 0.2) transparent;
    height: calc(100% - 144px); /* Hauteur totale moins header et search */
}

.custom-scrollbar::-webkit-scrollbar {
    width: 6px;
}

.custom-scrollbar::-webkit-scrollbar-track {
    background: transparent;
}

.custom-scrollbar::-webkit-scrollbar-thumb {
    background-color: rgba(0, 0, 0, 0.2);
    border-radius: 3px;
}

.custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background-color: rgba(0, 0, 0, 0.3);
}

/* Navigation styles */
.list-group-item-action {
    color: #495057;
    transition: all 0.2s ease-in-out;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.list-group-item-action:hover {
    color: var(--bs-primary);
    background-color: rgba(var(--bs-primary-rgb), 0.1);
}

.list-group-item-action.active {
    color: var(--bs-primary);
    background-color: rgba(var(--bs-primary-rgb), 0.1);
    font-weight: 500;
    border-color: transparent;
}

.list-group-item-action i {
    color: #6c757d;
    transition: color 0.2s ease-in-out;
    flex-shrink: 0;
}

.list-group-item-action:hover i,
.list-group-item-action.active i {
    color: var(--bs-primary);
}

/* Mobile optimizations */
@media (max-width: 991.98px) {
    .custom-scrollbar {
        height: calc(100vh - 144px);
    }
}
</style>